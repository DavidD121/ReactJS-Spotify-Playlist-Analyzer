{"version":3,"sources":["images/placeholder.png","images/githublogo.png","Playlist.js","AvgBar.js","AddMenu.js","PlaylistAnalysis.js","About.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","SpotifyWebApi","Playlist","playlist","className","src","images","length","placeholder","url","name","description","unicodeNonos","nono","split","join","getDescription","owner","display_name","tracks","total","AvgBar","avg","max","min","range","getMeterHeight","val","fill","useSpring","height","from","conditionalAdjust","barHeightPx","document","getElementById","classList","add","meterStyle","top","interpolate","style","div","id","p","toFixed","spotifyApi","AddMenu","features","genres","update","audio","currentSongs","map","track","uri","menuAnimation","x","getRandomTrackId","Math","floor","random","useState","foundTracks","setFoundTracks","query","setQuery","updateQuery","target_danceability","value","target_energy","target_loudness","target_valence","target_tempo","seed_tracks","limit","useEffect","addedSongs","setAddedSongs","displayButton","includes","onClick","addTracksToPlaylist","then","data","concat","err","addSong","feature","for","type","defaultValue","step","onChange","parseFloat","frameborder","allowtransparency","allow","Array","getElementsByClassName","forEach","result","remove","newQuery","getRecommendations","filter","search","Audio","PlaylistAnalysis","PlaylistID","match","params","setPlaylist","getPlaylist","getPlaylistItems","playlistItems","setPlaylistItems","setGenres","getFeatures","arr","a","getAudioFeaturesForTracks","item","i","audio_features","artistIds","artists","artist","uniqueArtistIds","Object","keys","loops","ceil","genreFreq","getArtists","slice","genre","g","frequency","sort","b","pl","getPlaylistTracks","offset","items","getGenres","currentFeatures","func","danceability","energy","loudness","valence","tempo","validSongs","song","sortByFeature","reversed","reverse","invalidSongs","reduce","addMenuOpened","setAddMenuOpened","to","len_ms","duration_ms","string","hours","hoursRemainder","getPlaylistLength","width","renderAddMenu","About","href","githublogo","scopes","fetch","response","text","initialLoggedIn","token","setAccessToken","hash","window","location","substring","initial","parts","decodeURIComponent","PlaylistList","sounds","getElementsByTagName","pause","userPlaylists","setUserPlaylists","username","setUsername","lim","getting","acc","getUserPlaylists","getMe","getAllPlaylists","access_token","setToken","App","basename","process","path","exact","component","Boolean","hostname","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.adf0668e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/placeholder.070e65fb.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII=\"","import React from \"react\";\nimport \"./PlaylistList.css\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport placeholder from \"./images/placeholder.png\";\n\nconst spotifyApi = new SpotifyWebApi();\n\nfunction Playlist({ playlist }) {\n  function getImage() {\n    //If no images are found, use placeholder image\n    if (playlist.images.length < 1) {\n      return placeholder;\n    } else {\n      return playlist.images[0].url;\n    }\n  }\n\n  function getDescription() {\n    var description = playlist.description;\n    var unicodeNonos = {\n      \"&#x27;\": \"'\",\n      \"&amp;\": \"&\",\n      \"&#x2F;\": \"/\",\n      \"&lt;\": \"<\",\n      \"&gt;\": \">\",\n    };\n\n    for (var nono in unicodeNonos) {\n      description = description.split(nono).join(unicodeNonos[nono]);\n    }\n\n    return description;\n  }\n\n  return (\n    <div className=\"playlist-list-rows\">\n      <div>\n        <img src={getImage()} className=\"playlist-img\" />\n        <div className=\"playlist-header\">\n          <h2 className=\"title\">{playlist.name}</h2>\n          <p className=\"description\">{getDescription()}</p>\n          <p className=\"sub-head\">\n            by {playlist.owner.display_name} | {playlist.tracks.total} songs\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Playlist;\n","import React, { useState, useEffect } from 'react';\nimport { useSpring, animated } from 'react-spring';\nimport './AvgBar.css';\n\nfunction AvgBar({ avg, max, min }) {\n\n  var range = max - min;\n\n  var barHeightPx = 200;\n\n  function getMeterHeight(val) {\n    return ((val - min) / range) * barHeightPx;\n  }\n\n  const fill = useSpring({ height: avg ? avg : min, from: { height: min } });\n\n  var conditionalAdjust = 0;\n\n  if ((avg ? getMeterHeight(avg) : 0) > (barHeightPx * 92 / 100)) {\n    var div = document.getElementById('meter');\n    div.classList.add('filled');\n    conditionalAdjust = -20;\n  }\n\n\n  const meterStyle = {\n    top: fill.height.interpolate(val => (getMeterHeight(val)) + conditionalAdjust),\n  }\n\n  return (\n    <div className='avgbar'>\n      <h2 className='label'>{max}</h2>\n      <div className=\"bar\" style={{ height: barHeightPx }}>\n        <animated.div className=\"meter\" id=\"meter\" style={{ height: fill.height.interpolate(val => getMeterHeight(val)) }}>\n          <animated.p className=\"meter-label\" style={meterStyle}>{fill.height.interpolate(val => val.toFixed(2))}</animated.p>\n        </animated.div>\n      </div>\n      <h2 className='label'>{min}</h2>\n    </div>\n  )\n}\n\nexport default AvgBar;","import React, { useState, useEffect } from \"react\";\r\nimport SpotifyWebApi from \"spotify-web-api-js\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport placeholder from \"./images/placeholder.png\";\r\nimport \"./AddMenu.css\";\r\n\r\nconst spotifyApi = new SpotifyWebApi();\r\n\r\nfunction AddMenu({ playlist, features, genres, tracks, update, audio }) {\r\n  var currentSongs = tracks.map((track) => track.track.uri);\r\n\r\n  const w = useSpring({ x: 500, from: { x: 100 } });\r\n  const h = useSpring({ height: 500, from: { height: 100 } });\r\n\r\n  var menuAnimation = {\r\n    height: h,\r\n  };\r\n\r\n  function getRandomTrackId() {\r\n    return tracks[0]\r\n      ? tracks[Math.floor(Math.random() * tracks.length)].track.id\r\n      : \"\";\r\n  }\r\n\r\n  const [foundTracks, setFoundTracks] = useState([]);\r\n\r\n  const [query, setQuery] = useState({});\r\n\r\n  useEffect(() => {\r\n    updateQuery();\r\n  }, []);\r\n\r\n  function updateQuery() {\r\n    setQuery({\r\n      target_danceability: document.getElementById(\"Danceability\").value,\r\n      target_energy: document.getElementById(\"Energy\").value,\r\n      target_loudness: document.getElementById(\"Loudness\").value,\r\n      target_valence: document.getElementById(\"Positivity\").value,\r\n      target_tempo: document.getElementById(\"Tempo (bpm)\").value,\r\n      seed_tracks: \"\",\r\n      //seed_genres: genres[0].genre + \",\" + genres[1].genre,\r\n      limit: 10,\r\n    });\r\n  }\r\n\r\n  function search() {\r\n    audio.src = null;\r\n    var results = Array.from(document.getElementsByClassName(\"track-info\"));\r\n    results.forEach((result) => result.classList.remove(\"playing\"));\r\n\r\n    var newQuery = query;\r\n\r\n    newQuery.seed_tracks =\r\n      getRandomTrackId() + \",\" + getRandomTrackId() + \",\" + getRandomTrackId();\r\n\r\n    //console.log(newQuery);\r\n\r\n    spotifyApi.getRecommendations(newQuery).then(\r\n      function (data) {\r\n        //console.log(data);\r\n        setFoundTracks(\r\n          data.tracks.filter((track) => !currentSongs.includes(track.uri))\r\n        );\r\n      },\r\n      function (err) {\r\n        //console.log(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  function getImage(images) {\r\n    //If no images are found, use placeholder image\r\n    if (images.length < 1) {\r\n      return placeholder;\r\n    } else {\r\n      return images[0].url;\r\n    }\r\n  }\r\n\r\n  function sample(url, id) {\r\n    //console.log(url);\r\n\r\n    var results = Array.from(document.getElementsByClassName(\"track-info\"));\r\n\r\n    results.forEach((result) => result.classList.remove(\"playing\"));\r\n\r\n    var div = document.getElementById(id);\r\n\r\n    if (audio.src != url) {\r\n      audio.src = url;\r\n      audio.play();\r\n      div.classList.add(\"playing\");\r\n    } else {\r\n      audio.src = null;\r\n      div.classList.remove(\"playing\");\r\n    }\r\n  }\r\n\r\n  const [addedSongs, setAddedSongs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    update();\r\n  }, [addedSongs]);\r\n\r\n  function displayButton(uri) {\r\n    //console.log(addedSongs)\r\n    if (addedSongs.includes(uri)) {\r\n      return <div className=\"added\">&#x2714;</div>;\r\n    } else {\r\n      return (\r\n        <button className=\"button\" onClick={() => addSong(uri)}>\r\n          +\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  function addSong(uri) {\r\n    spotifyApi.addTracksToPlaylist(playlist.id, [uri]).then(\r\n      function (data) {\r\n        //console.log(data);\r\n        setAddedSongs(addedSongs.concat([uri]));\r\n      },\r\n      function (err) {\r\n        //console.log(err)\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <animated.div style={menuAnimation} className=\"addmenu\">\r\n      <div className=\"features\">\r\n        {features.map((feature) => (\r\n          <div className=\"feature\">\r\n            <label for={feature.name} className=\"feature-label\">\r\n              {feature.name}\r\n            </label>\r\n            <input\r\n              id={feature.name}\r\n              className=\"feature-bar\"\r\n              type=\"range\"\r\n              defaultValue={feature.avg}\r\n              min={feature.min}\r\n              max={feature.max}\r\n              step={(feature.max - feature.min) / 200}\r\n              onChange={() => updateQuery()}\r\n            ></input>\r\n            <div className=\"feature-value\">\r\n              {document.getElementById(feature.name)\r\n                ? parseFloat(\r\n                    document.getElementById(feature.name).value\r\n                  ).toFixed(feature.max == 1 ? 2 : 0)\r\n                : \"\"}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"search-results\">\r\n        {foundTracks.map((track) => (\r\n          <div className=\"result\">\r\n            <iframe\r\n              src={\"https://open.spotify.com/embed/track/\" + track.id}\r\n              className=\"track-info\"\r\n              frameborder=\"0\"\r\n              allowtransparency=\"true\"\r\n              allow=\"encrypted-media\"\r\n            ></iframe>\r\n            <div className=\"add-track\">{displayButton(track.uri)}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button className=\"button search\" onClick={() => search()}>\r\n        Search\r\n      </button>\r\n    </animated.div>\r\n  );\r\n}\r\n\r\nexport default AddMenu;\r\n","import React, { useState, useEffect } from \"react\";\nimport \"./PlaylistAnalysis.css\";\nimport AvgBar from \"./AvgBar.js\";\nimport AddMenu from \"./AddMenu.js\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport placeholder from \"./images/placeholder.png\";\nimport { BrowserRouter as Link } from \"react-router-dom\";\n\nconst spotifyApi = new SpotifyWebApi();\n\nvar audio = new Audio();\n\nfunction PlaylistAnalysis({ match }) {\n  var PlaylistID = match.params.id;\n\n  const [playlist, setPlaylist] = useState({\n    name: \"\",\n    owner: \"\",\n    images: [],\n    tracks: { total: 0 },\n  });\n\n  function update() {\n    spotifyApi.getPlaylist(PlaylistID).then(function (data) {\n      //console.log(data);\n      setPlaylist(data);\n      getPlaylistItems(data);\n    });\n  }\n\n  useEffect(() => {\n    update();\n  }, []);\n\n  const [playlistItems, setPlaylistItems] = useState([]);\n  const [genres, setGenres] = useState([]);\n\n  useEffect(() => {\n    //console.log(playlistItems);\n    getGenres();\n  }, [playlistItems]);\n\n  var invalidTracks = 0;\n\n  async function getFeatures(arr) {\n    await spotifyApi\n      .getAudioFeaturesForTracks(arr.map((item) => item.track.id))\n      .then(function (data) {\n        for (var i = 0; i < arr.length; i++) {\n          arr[i].features = data.audio_features[i];\n          if (!data.audio_features[i]) {\n            invalidTracks += 1;\n          }\n        }\n      });\n    return arr;\n  }\n\n  async function getGenres() {\n    //Gets all unique artist IDs\n    var artistIds = {};\n    playlistItems.forEach((item) => {\n      item.track.artists.forEach((artist) => {\n        if (!artistIds[artist.id]) {\n          artistIds[artist.id] = true;\n        }\n      });\n    });\n\n    var uniqueArtistIds = Object.keys(artistIds);\n\n    //Loops through artists, getting all of their genres and the amount of times each unique genres shows up\n    var loops = Math.ceil(uniqueArtistIds.length / 50);\n    var genreFreq = {};\n    for (var i = 0; i < loops; i++) {\n      await spotifyApi\n        .getArtists(uniqueArtistIds.slice(i * 50, (i + 1) * 50))\n        .then(function (data) {\n          data.artists.forEach((artist) => {\n            if (artist) {\n              artist.genres.forEach((genre) => {\n                if (!genreFreq[genre]) {\n                  genreFreq[genre] = 1;\n                } else {\n                  genreFreq[genre] += 1;\n                }\n              });\n            }\n          });\n        });\n    }\n    var genres = Object.keys(genreFreq).map((g) => {\n      return { genre: g, frequency: genreFreq[g] };\n    });\n\n    //sort genres by frequency if array is greater than zero, to avoid errors\n    if (genres.length > 0) {\n      setGenres(genres.sort((a, b) => b.frequency - a.frequency));\n    }\n  }\n\n  async function getPlaylistItems(pl) {\n    var arr = [];\n\n    var loops = 1 + Math.floor((pl.tracks.total - 1) / 100);\n\n    for (var i = 0; i < loops; i++) {\n      await spotifyApi\n        .getPlaylistTracks(pl.id, { offset: i * 100 })\n        .then(async function (data) {\n          arr = arr.concat(\n            await getFeatures(\n              data.items.map((item) => {\n                return { track: item.track, features: {} };\n              })\n            )\n          );\n        });\n    }\n    setPlaylistItems(arr);\n  }\n\n  function getPlaylistLength() {\n    var len_ms = 0;\n    playlistItems.forEach((item) => (len_ms += item.track.duration_ms));\n\n    var string = \"\";\n    var hours = Math.floor(len_ms / 3600000);\n    var hoursRemainder = len_ms % 3600000;\n    var minutes = Math.floor(hoursRemainder / 60000);\n\n    //console.log(playlistLength);\n    //convert ms length into displayable string\n\n    if (hours > 0) {\n      string += hours + \" hr \";\n    }\n\n    return string + minutes + \" min \";\n  }\n\n  function getImage() {\n    //If no images are found, use placeholder image\n    if (playlist.images.length < 1) {\n      return placeholder;\n    } else {\n      return playlist.images[0].url;\n    }\n  }\n\n  var currentFeatures = [\n    {\n      name: \"Danceability\",\n      func: (x) => x.features.danceability,\n      max: 1,\n      min: 0,\n      avg: null,\n    },\n    {\n      name: \"Energy\",\n      func: (x) => x.features.energy,\n      max: 1,\n      min: 0,\n      avg: null,\n    },\n    {\n      name: \"Loudness\",\n      func: (x) => x.features.loudness,\n      max: 0,\n      min: -20,\n      avg: null,\n    },\n    {\n      name: \"Positivity\",\n      func: (x) => x.features.valence,\n      max: 1,\n      min: 0,\n      avg: null,\n    },\n    {\n      name: \"Tempo (bpm)\",\n      func: (x) => x.features.tempo,\n      max: 200,\n      min: 0,\n      avg: null,\n    },\n  ];\n\n  var validSongs = playlistItems.filter((song) => song.features);\n\n  currentFeatures.forEach((feature) => {\n    if (validSongs.length > 0) {\n      feature.avg =\n        validSongs.map((song) => feature.func(song)).reduce((a, b) => a + b) /\n        validSongs.length;\n    }\n  });\n\n  function sortByFeature(func, reversed) {\n    var reverse = 1;\n    if (reversed) {\n      reverse = -1;\n    }\n\n    var invalidSongs = playlistItems.filter((song) => !song.features);\n\n    setPlaylistItems(\n      validSongs\n        .sort(function (a, b) {\n          return reverse * (func(b) - func(a));\n        })\n        .concat(invalidSongs)\n    );\n  }\n\n  const [addMenuOpened, setAddMenuOpened] = useState(false);\n\n  useEffect(() => {\n    audio.src = null;\n  }, [addMenuOpened]);\n\n  function renderAddMenu() {\n    if (addMenuOpened) {\n      return (\n        <div className=\"addmenu\">\n          <AddMenu\n            playlist={playlist}\n            features={currentFeatures}\n            genres={genres}\n            tracks={validSongs}\n            update={update}\n            audio={audio}\n          />\n          <button\n            className=\"closeMenuButton button\"\n            onClick={() => setAddMenuOpened(false)}\n          >\n            Back\n          </button>\n          <div className=\"instructions\">\n            Adjust the bars and press search to find songs with your desired\n            attributes\n          </div>\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div>\n      <Link className=\"link\" to=\"/\">\n        {\" \"}\n        Back{\" \"}\n      </Link>\n      <div className=\"flex\">\n        <div className=\"info\">\n          <img src={getImage()} className=\"image\" />\n          <div className=\"header\">\n            <h1 className=\"top\">{playlist.name}</h1>\n            <div className=\"bottom\">\n              <div className=\"sub-header\">\n                <h3>by {playlist.owner.display_name}</h3>\n                <h4>\n                  {playlist.tracks.total} songs <br /> {getPlaylistLength()}\n                </h4>\n              </div>\n              <div className=\"genre\">\n                <h3>Genres:</h3>\n                <h4>\n                  {genres[0] ? genres[0].genre : \"none\"}\n                  {genres[1] ? \" / \" + genres[1].genre : \"\"}\n                </h4>\n              </div>\n              <div className=\"divider\"></div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bars\">\n          <table className=\"bar-table\">\n            <tbody>\n              {currentFeatures.map((feature) => (\n                <td style={{ width: 60 / currentFeatures.length + \"%\" }}>\n                  <div className=\"bar-label\">{feature.name}</div>\n                  <AvgBar\n                    avg={feature.avg}\n                    max={feature.max}\n                    min={feature.min}\n                  />\n                </td>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      <div className=\"songs\">\n        <h1 className=\"songs-header\">\n          Songs{\" \"}\n          <button\n            className=\"button addSongs\"\n            onClick={() => setAddMenuOpened(true)}\n          >\n            Add Songs\n          </button>\n        </h1>\n        <div className=\"songs-text\">\n          Press the arrow buttons to sort songs by their attributes\n        </div>\n        <table className=\"song-table head\">\n          <thead>\n            <tr>\n              <th className=\"song-names\">Name</th>\n              <th className=\"artists\">Artist</th>\n              {currentFeatures.map((feature) => (\n                <th className=\"table-right\">\n                  <button\n                    className=\"sort-button\"\n                    onClick={() => {\n                      sortByFeature(feature.func, false);\n                    }}\n                  >\n                    &uarr;\n                  </button>\n                  <div className=\"feature-head\">{feature.name}</div>\n                  <button\n                    className=\"sort-button\"\n                    onClick={() => {\n                      sortByFeature(feature.func, true);\n                    }}\n                  >\n                    &darr;\n                  </button>\n                </th>\n              ))}\n            </tr>\n          </thead>\n        </table>\n        <div className=\"table-data\">\n          <table className=\"song-table\">\n            <tbody className=\"song-list\">\n              {playlistItems.map((song) => (\n                <tr>\n                  <td className=\"song-names\">{song.track.name}</td>\n                  <td className=\"artists\">{song.track.artists[0].name}</td>\n                  {currentFeatures.map((feature) => (\n                    <td className=\"table-right\">\n                      {song.features\n                        ? feature.func(song).toFixed(feature.max == 1 ? 2 : 0)\n                        : \"not found\"}\n                    </td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n        {renderAddMenu()}\n      </div>\n    </div>\n  );\n}\n\nexport default PlaylistAnalysis;\n","import React, { useState, useEffect } from 'react';\r\nimport './About.css';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport githublogo from './images/githublogo.png';\r\n\r\nfunction About() {\r\n\r\n\r\n  return (\r\n    <div className='about'>\r\n      <Link className=\"link\" to=\"/\"> Back </Link>\r\n      <h1>About</h1>\r\n      <div className=\"about-description\">\r\n        A website to analyse Spotify playlists and find new songs for them made by a bored college student.\r\n        <br/><br/> \r\n        Spotify stores attributes such as danceablity, energy, etc. for each song, this website simply takes\r\n        these values from Spotify and displays them in an accessable manner. I've found that these values can \r\n        be wildly inaccurate i.e Jigsaw Falling Into Place by Radiohead has a .81, maximum being 1, in positivity?!?!? \r\n        But averaged out in a large enough playlist they work to a degree. What I'm trying to say here is, if this \r\n        is completely off, don't blame me, blame Spotify.\r\n        <br/><br/> \r\n        Also, Spotify's API does not allow you to add songs to playlists you don't own, meaning you cannot add\r\n        songs to collaborative playlists you don't own from this website.\r\n      </div>\r\n      <div className = \"github\">\r\n        Source code on github:\r\n        <a className=\"logo\" href={\"https://github.com/DavidD121/ReactJS-Spotify-Playlist-Analyzer\"}>\r\n          <img src = {githublogo} />\r\n        </a>\r\n        <br/><br/>\r\n        Feel free to report any bugs/issues in the issues tab of the Github repo (theres probably a bunch)\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default About;","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport Playlist from \"./Playlist.js\";\nimport PlaylistAnalysis from \"./PlaylistAnalysis.js\";\nimport About from \"./About.js\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nexport const authEndpoint = \"https://accounts.spotify.com/authorize?\";\nvar client_id = \"e6aea1388e1341a9b5984a63e07f9e4a\";\nvar client_secret = \"\";\nvar redirect_uri =\n  \"https://davidd121.github.io/ReactJS-Spotify-Playlist-Analyzer/\";\n//var redirect_uri = 'https://www.playlistanalyser.com/';\nvar scopes = [\n  \"user-read-private\",\n  \"playlist-read-private\",\n  \"playlist-modify-public\",\n  \"playlist-modify-private\",\n  \"playlist-read-collaborative\",\n];\n\n//getting secret from secret file\nfetch(\"secret.txt\")\n  .then((response) => response.text())\n  .then((text) => (client_secret = text));\n\nconst spotifyApi = new SpotifyWebApi();\n\nvar initialLoggedIn = false;\n\nasync function setToken(token) {\n  await spotifyApi.setAccessToken(token);\n}\n\n//Getting access token from URL\nconst hash = window.location.hash\n  .substring(1)\n  .split(\"&\")\n  .reduce(function (initial, item) {\n    if (item) {\n      var parts = item.split(\"=\");\n      initial[parts[0]] = decodeURIComponent(parts[1]);\n    }\n    return initial;\n  }, {});\n\n//Setting access token if successfullly obtained\nif (hash.access_token) {\n  setToken(hash.access_token);\n  //console.log(\"token\");\n  initialLoggedIn = true;\n  //window.location = \"\"\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route path=\"/\" exact component={PlaylistList} />\n          <Route path=\"/about\" component={About} />\n          <Route path=\"/playlist/:id\" component={PlaylistAnalysis} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nfunction PlaylistList() {\n  var sounds = document.getElementsByTagName(\"audio\");\n  for (var i = 0; i < sounds.length; i++) sounds[i].pause();\n\n  const [userPlaylists, setUserPlaylists] = useState([]);\n  const [username, setUsername] = useState(\"\");\n\n  useEffect(() => {\n    //console.log(userPlaylists);\n  }, [userPlaylists]);\n\n  async function getAllPlaylists() {\n    var lim = 50;\n    var arr = [];\n    var getting = true;\n    var acc = 0;\n    while (getting) {\n      await spotifyApi\n        .getUserPlaylists({ limit: lim, offset: acc * lim })\n        .then(function (data) {\n          if (data.items.length !== 0) {\n            //console.log(data.items);\n            arr = arr.concat(data.items);\n            acc++;\n          } else {\n            getting = false;\n          }\n        });\n    }\n    setUserPlaylists(arr);\n  }\n\n  useEffect(() => {\n    spotifyApi.getMe().then(function (data) {\n      //  g(data);\n      setUsername(data.display_name);\n    });\n\n    getAllPlaylists();\n  }, []);\n\n  return (\n    <div>\n      <div className=\"navbar\">\n        <Link to={\"/about/\"}>\n          <div className=\"aboutlink link\">About</div>\n        </Link>\n        <a\n          href={`${authEndpoint}client_id=${client_id}&redirect_uri=${redirect_uri}&scope=${scopes.join(\n            \"%20\"\n          )}&response_type=token&show_dialog=true`}\n          className=\"button login\"\n        >\n          {\" \"}\n          <div className=\"login-text\">Login</div>{\" \"}\n        </a>\n        <div className=\"welcome\">\n          {initialLoggedIn\n            ? \"Welcome, \" + username + \".\"\n            : \"Login to see your playlists below\"}\n          <br />\n          {initialLoggedIn ? \"Select a playlist below\" : \"\"}\n        </div>\n        <h1 className=\"main-title\">Playlist Analyzer</h1>\n      </div>\n      <div className=\"list-flex\">\n        {userPlaylists.map((item) => (\n          <Link to={\"/playlist/\" + item.id}>\n            <Playlist playlist={item} />\n          </Link>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}