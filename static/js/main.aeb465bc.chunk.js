(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/placeholder.070e65fb.png"},24:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII="},25:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),l=a.n(c),s=(a(30),a(4)),i=a.n(s),o=a(7),u=a(11),m=(a(32),a(9)),f=a.n(m),d=(a(33),a(14)),b=a.n(d);new f.a;var h=function(e){var t=e.playlist;return r.a.createElement("div",{className:"playlist-list-rows"},r.a.createElement("div",null,r.a.createElement("img",{src:t.images.length<1?b.a:t.images[0].url,className:"playlist-img"}),r.a.createElement("div",{className:"playlist-header"},r.a.createElement("h2",{className:"title"},t.name),r.a.createElement("p",{className:"description"},function(){var e=t.description,a={"&#x27;":"'","&amp;":"&","&#x2F;":"/","&lt;":"<","&gt;":">"};for(var n in a)e=e.split(n).join(a[n]);return e}()),r.a.createElement("p",{className:"sub-head"},"by ",t.owner.display_name," | ",t.tracks.total," songs"))))},p=(a(34),a(12));a(35);var g=function(e){var t=e.avg,a=e.max,n=e.min,c=a-n;function l(e){return(e-n)/c*200}var s=Object(p.b)({height:t||n,from:{height:n}}),i=0;(t?l(t):0)>184&&(document.getElementById("meter").classList.add("filled"),i=-20);var o={top:s.height.interpolate((function(e){return l(e)+i}))};return r.a.createElement("div",{className:"avgbar"},r.a.createElement("h2",{className:"label"},a),r.a.createElement("div",{className:"bar",style:{height:200}},r.a.createElement(p.a.div,{className:"meter",id:"meter",style:{height:s.height.interpolate((function(e){return l(e)}))}},r.a.createElement(p.a.p,{className:"meter-label",style:o},s.height.interpolate((function(e){return e.toFixed(2)}))))),r.a.createElement("h2",{className:"label"},n))},E=(a(36),new f.a);var v=function(e){var t=e.playlist,a=e.features,c=(e.genres,e.tracks),l=e.update,s=e.audio,i=c.map((function(e){return e.track.uri}));function u(){return c[0]?c[Math.floor(Math.random()*c.length)].track.id:""}Object(p.b)({x:500,from:{x:100}}),Object(p.b)({height:500,from:{height:100}});var m=Object(n.useState)([]),f=Object(o.a)(m,2),d=f[0],b=f[1],h=Object(n.useState)({}),g=Object(o.a)(h,2),v=g[0],y=g[1];function N(){y({target_danceability:document.getElementById("Danceability").value,target_energy:document.getElementById("Energy").value,target_loudness:document.getElementById("Loudness").value,target_valence:document.getElementById("Positivity").value,target_tempo:document.getElementById("Tempo (bpm)").value,seed_tracks:"",limit:10})}Object(n.useEffect)((function(){N()}),[]);var k=Object(n.useState)([]),A=Object(o.a)(k,2),w=A[0],x=A[1];function j(e){return w.includes(e)?r.a.createElement("div",{className:"added"},"\u2714"):r.a.createElement("button",{className:"button",onClick:function(){return function(e){E.addTracksToPlaylist(t.id,[e]).then((function(t){x(w.concat([e]))}),(function(e){}))}(e)}},"+")}return Object(n.useEffect)((function(){l()}),[w]),r.a.createElement("div",{style:{},className:"addmenu"},r.a.createElement("div",{className:"features"},a.map((function(e){return r.a.createElement("div",{className:"feature"},r.a.createElement("label",{for:e.name,className:"feature-label"},e.name),r.a.createElement("input",{id:e.name,className:"feature-bar",type:"range",defaultValue:e.avg,min:e.min,max:e.max,step:(e.max-e.min)/200,onChange:function(){return N()}}),r.a.createElement("div",{className:"feature-value"},document.getElementById(e.name)?parseFloat(document.getElementById(e.name).value).toFixed(1==e.max?2:0):""))}))),r.a.createElement("div",{className:"search-results"},d.map((function(e){return r.a.createElement("div",{className:"result"},r.a.createElement("iframe",{src:"https://open.spotify.com/embed/track/"+e.id,className:"track-info",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}),r.a.createElement("div",{className:"add-track"},j(e.uri)))}))),r.a.createElement("button",{className:"button search",onClick:function(){return function(){s.src=null,Array.from(document.getElementsByClassName("track-info")).forEach((function(e){return e.classList.remove("playing")}));var e=v;e.seed_tracks=u()+","+u()+","+u(),E.getRecommendations(e).then((function(e){b(e.tracks.filter((function(e){return!i.includes(e.uri)})))}),(function(e){}))}()}},"Search"))},y=a(10),N=new f.a,k=new Audio;var A=function(e){var t=e.match.params.id,a=Object(n.useState)({name:"",owner:"",images:[],tracks:{total:0}}),c=Object(o.a)(a,2),l=c[0],s=c[1];function m(){N.getPlaylist(t).then((function(e){s(e),function(e){O.apply(this,arguments)}(e)}))}Object(n.useEffect)((function(){m()}),[]);var f=Object(n.useState)([]),d=Object(o.a)(f,2),h=d[0],p=d[1],E=Object(n.useState)([]),A=Object(o.a)(E,2),w=A[0],x=A[1];function j(e){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAudioFeaturesForTracks(t.map((function(e){return e.track.id}))).then((function(e){for(var a=0;a<t.length;a++)t[a].features=e.audio_features[a],e.audio_features[a]||1}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(u.a)(i.a.mark((function e(){var t,a,n,r,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},h.forEach((function(e){e.track.artists.forEach((function(e){t[e.id]||(t[e.id]=!0)}))})),a=Object.keys(t),n=Math.ceil(a.length/50),r={},c=0;case 6:if(!(c<n)){e.next=12;break}return e.next=9,N.getArtists(a.slice(50*c,50*(c+1))).then((function(e){e.artists.forEach((function(e){e&&e.genres.forEach((function(e){r[e]?r[e]+=1:r[e]=1}))}))}));case 9:c++,e.next=6;break;case 12:(l=Object.keys(r).map((function(e){return{genre:e,frequency:r[e]}}))).length>0&&x(l.sort((function(e,t){return t.frequency-e.frequency})));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(u.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=1+Math.floor((t.tracks.total-1)/100),r=0;case 3:if(!(r<n)){e.next=9;break}return e.next=6,N.getPlaylistTracks(t.id,{offset:100*r}).then(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,j(t.items.map((function(e){return{track:e.track,features:{}}})));case 3:e.t1=e.sent,a=e.t0.concat.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:r++,e.next=3;break;case 9:p(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[h]);var M=[{name:"Danceability",func:function(e){return e.features.danceability},max:1,min:0,avg:null},{name:"Energy",func:function(e){return e.features.energy},max:1,min:0,avg:null},{name:"Loudness",func:function(e){return e.features.loudness},max:0,min:-20,avg:null},{name:"Positivity",func:function(e){return e.features.valence},max:1,min:0,avg:null},{name:"Tempo (bpm)",func:function(e){return e.features.tempo},max:200,min:0,avg:null}],D=h.filter((function(e){return e.features}));function J(e,t){var a=1;t&&(a=-1);var n=h.filter((function(e){return!e.features}));p(D.sort((function(t,n){return a*(e(n)-e(t))})).concat(n))}M.forEach((function(e){D.length>0&&(e.avg=D.map((function(t){return e.func(t)})).reduce((function(e,t){return e+t}))/D.length)}));var G=Object(n.useState)(!1),T=Object(o.a)(G,2),S=T[0],C=T[1];return Object(n.useEffect)((function(){k.src=null}),[S]),r.a.createElement("div",null,r.a.createElement(y.b,{className:"link",to:"/"}," Back "),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"info"},r.a.createElement("img",{src:l.images.length<1?b.a:l.images[0].url,className:"image"}),r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"top"},l.name),r.a.createElement("div",{className:"bottom"},r.a.createElement("div",{className:"sub-header"},r.a.createElement("h3",null,"by ",l.owner.display_name),r.a.createElement("h4",null,l.tracks.total," songs ",r.a.createElement("br",null)," ",function(){var e=0;h.forEach((function(t){return e+=t.track.duration_ms}));var t="",a=Math.floor(e/36e5),n=e%36e5;return a>0&&(t+=a+" hr "),t+Math.floor(n/6e4)+" min "}())),r.a.createElement("div",{className:"genre"},r.a.createElement("h3",null,"Genres:"),r.a.createElement("h4",null,w[0]?w[0].genre:"none",w[1]?" / "+w[1].genre:"")),r.a.createElement("div",{className:"divider"})))),r.a.createElement("div",{className:"bars"},r.a.createElement("table",{className:"bar-table"},r.a.createElement("tbody",null,M.map((function(e){return r.a.createElement("td",{style:{width:60/M.length+"%"}},r.a.createElement("div",{className:"bar-label"},e.name),r.a.createElement(g,{avg:e.avg,max:e.max,min:e.min}))})))))),r.a.createElement("div",{className:"songs"},r.a.createElement("h1",{className:"songs-header"},"Songs ",r.a.createElement("button",{className:"button addSongs",onClick:function(){return C(!0)}},"Add Songs")),r.a.createElement("div",{className:"songs-text"},"Press the arrow buttons to sort songs by their attributes"),r.a.createElement("table",{className:"song-table head"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"song-names"},"Name"),r.a.createElement("th",{className:"artists"},"Artist"),M.map((function(e){return r.a.createElement("th",{className:"table-right"},r.a.createElement("button",{className:"sort-button",onClick:function(){J(e.func,!1)}},"\u2191"),r.a.createElement("div",{className:"feature-head"},e.name),r.a.createElement("button",{className:"sort-button",onClick:function(){J(e.func,!0)}},"\u2193"))}))))),r.a.createElement("div",{className:"table-data"},r.a.createElement("table",{className:"song-table"},r.a.createElement("tbody",{className:"song-list"},h.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:"song-names"},e.track.name),r.a.createElement("td",{className:"artists"},e.track.artists[0].name),M.map((function(t){return r.a.createElement("td",{className:"table-right"},e.features?t.func(e).toFixed(1==t.max?2:0):"not found")})))}))))),function(){if(S)return r.a.createElement("div",{className:"addmenu"},r.a.createElement(v,{playlist:l,features:M,genres:w,tracks:D,update:m,audio:k}),r.a.createElement("button",{className:"closeMenuButton button",onClick:function(){return C(!1)}},"Back"),r.a.createElement("div",{className:"instructions"},"Adjust the bars and press search to find songs with your desired attributes"))}()))},w=(a(42),a(24)),x=a.n(w);var j=function(){return r.a.createElement("div",{className:"about"},r.a.createElement(y.b,{className:"link",to:"/"}," Back "),r.a.createElement("h1",null,"About"),r.a.createElement("div",{className:"about-description"},"A website to analyse Spotify playlists and find new songs for them made by a bored college student.",r.a.createElement("br",null),r.a.createElement("br",null),"Spotify stores attributes such as danceablity, energy, etc. for each song, this website simply takes these values from Spotify and displays them in an accessable manner. I've found that these values can be wildly inaccurate i.e Jigsaw Falling Into Place by Radiohead has a .81, maximum being 1, in positivity?!?!? But averaged out in a large enough playlist they work to a degree. What I'm trying to say here is, if this is completely off, don't blame me, blame Spotify.",r.a.createElement("br",null),r.a.createElement("br",null),"Also, Spotify's API does not allow you to add songs to playlists you don't own, meaning you cannot add songs to collaborative playlists you don't own from this website."),r.a.createElement("div",{className:"github"},"Source code on github:",r.a.createElement("a",{className:"logo",href:"https://github.com/DavidD121/ReactJS-Spotify-Playlist-Analyzer"},r.a.createElement("img",{src:x.a})),r.a.createElement("br",null),r.a.createElement("br",null),"Feel free to report any bugs/issues in the issues tab of the Github repo (theres probably a bunch)"))},B=a(2),I=(a(43),["user-read-private","playlist-read-private","playlist-modify-public","playlist-modify-private","playlist-read-collaborative"]);fetch("secret.txt").then((function(e){return e.text()})).then((function(e){return e}));var O=new f.a,M=!1;function D(){return(D=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.setAccessToken(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e}),{});function G(){for(var e=document.getElementsByTagName("audio"),t=0;t<e.length;t++)e[t].pause();var a=Object(n.useState)([]),c=Object(o.a)(a,2),l=c[0],s=c[1],m=Object(n.useState)(""),f=Object(o.a)(m,2),d=f[0],b=f[1];function p(){return(p=Object(u.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=50,a=[],n=!0,r=0;case 4:if(!n){e.next=9;break}return e.next=7,O.getUserPlaylists({limit:t,offset:r*t}).then((function(e){0!=e.items.length?(a=a.concat(e.items),r++):n=!1}));case 7:e.next=4;break;case 9:s(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){}),[l]),Object(n.useEffect)((function(){O.getMe().then((function(e){b(e.display_name)})),function(){p.apply(this,arguments)}()}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"navbar"},r.a.createElement(y.b,{to:"/about/"},r.a.createElement("div",{className:"aboutlink link"},"About")),r.a.createElement("a",{href:"".concat("https://accounts.spotify.com/authorize?","client_id=").concat("e6aea1388e1341a9b5984a63e07f9e4a","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(I.join("%20"),"&response_type=token&show_dialog=true"),className:"button login"}," ",r.a.createElement("div",{className:"login-text"},"Login")," "),r.a.createElement("div",{className:"welcome"},M?"Welcome, "+d+".":"Login to see your playlists below",r.a.createElement("br",null),M?"Select a playlist below":""),r.a.createElement("h1",{className:"main-title"},"Playlist Analyzer")),r.a.createElement("div",{className:"list-flex"},l.map((function(e){return r.a.createElement(y.b,{to:"/playlist/"+e.id},r.a.createElement(h,{playlist:e}))}))))}J.access_token&&(!function(e){D.apply(this,arguments)}(J.access_token),M=!0);var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y.a,{basename:"/ReactJS-Spotify-Playlist-Analyzer"},r.a.createElement(B.c,null,r.a.createElement(B.a,{path:"/",exact:!0,component:G}),r.a.createElement(B.a,{path:"/about",component:j}),r.a.createElement(B.a,{path:"/playlist/:id",component:A}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.aeb465bc.chunk.js.map